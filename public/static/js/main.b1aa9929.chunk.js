(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(129)},124:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(85),c=n.n(l),o=n(14),i=n(196),m=(n(124),n(90)),u=Object(m.a)({palette:{common:{black:"#000",white:"#fff"},primary:{light:"fff",main:"#0C546A",dark:"#r2B393E",contrastText:"#F0E29B"},background:{paper:"#a5adb5",default:"#b79fad"}},typography:{fontFamily:"'Chilanka', sans-serif",fontSize:16,fontWeight:"bold"}}),s=n(3),d=n(29),f=n(6),E=Object(a.createContext)();function p(e){var t=e.children,n=Object(a.useState)(null),l=Object(f.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)(!1),m=Object(f.a)(i,2),u=m[0],s=m[1],d=Object(a.useState)([]),p=Object(f.a)(d,2),b=p[0],h=p[1],g=Object(a.useState)([]),j=Object(f.a)(g,2),x=j[0],O=j[1],v=Object(a.useState)([]),C=Object(f.a)(v,2),y=C[0],S=C[1],k=Object(a.useState)([]),T=Object(f.a)(k,2),w=T[0],A=T[1];Object(a.useEffect)(function(){fetch("/me").then(function(e){return e.json()}).then(function(e){o(e),e.error?s(!1):s(!0)}),fetch("/teachers").then(function(e){return e.json()}).then(function(e){O(e)}),fetch("/subjects").then(function(e){return e.json()}).then(function(e){return S(e)}),fetch("/students").then(function(e){return e.json()}).then(function(e){return A(e)})},[]);return r.a.createElement(E.Provider,{value:{user:c,login:function(e){o(e),s(!0)},logout:function(e){o({}),s(!1)},signup:function(e){o(e),s(!0)},subjects:y,setSubjects:S,teachers:x,setTeachers:O,students:w,setStudents:A,loggedIn:u,errorsList:b,setErrorsList:h}},t)}var b=n(28),h=n(194),g=n(193),j=n(189),x=function(){Object(b.a)();var e=Object(a.useContext)(E),t=e.login,n=e.errorsList,l=Object(a.useState)({username:"",password:""}),c=Object(f.a)(l,2),i=c[0],m=c[1],u=function(e){m(Object(d.a)({},i,Object(s.a)({},e.target.name,e.target.value)))},p=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement(g.a,{item:!0},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){e.ok?e.json().then(function(e){t(e),p("/home")}):e.json().then(function(e){alert(e.error)})})}},r.a.createElement("h2",{style:{marginLeft:"4rem"}},"Login"),r.a.createElement(j.a,{sx:{marginBottom:"2rem"},size:"small",label:"Username",name:"username",type:"text",autoComplete:"on",id:"username",value:i.username,onChange:u})," ",r.a.createElement("br",null),r.a.createElement(j.a,{label:"Password",size:"small",name:"password",type:"password",autoComplete:"on",id:"password",value:i.password,onChange:u}),r.a.createElement("br",null),r.a.createElement(h.a,{type:"submit",sx:{marginLeft:"4rem",marginTop:"2rem"},variant:"contained"},"Log In"),r.a.createElement(h.a,{sx:{marginLeft:"4rem",marginTop:"2rem"},variant:"contained",onClick:function(){return p("/-signup")}},"Signup"))),r.a.createElement("ul",null,n)))};var O=function(){Object(b.a)();var e=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(g.a,{container:!0,sx:{justifyContent:"center"},spacing:2},r.a.createElement(g.a,{item:!0,sx:{textAlign:"center"}},r.a.createElement("h2",{style:{width:"100%",textAlign:"center"}},"Welcome to Class-ify, your hub for campus logistics! Please login or signup."))),r.a.createElement("br",null),r.a.createElement(g.a,{container:!0,sx:{justifyContent:"center"},spacing:2},r.a.createElement(g.a,{item:!0},r.a.createElement(h.a,{variant:"contained",sx:{m:"1rem"},onClick:function(){return e("/-login")}},"Login"),r.a.createElement(h.a,{variant:"contained",onClick:function(){return e("/-signup")}},"Signup"))))},v=function(){Object(b.a)();var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),i=Object(f.a)(c,2),m=i[0],u=i[1],s=Object(a.useState)(""),d=Object(f.a)(s,2),p=d[0],x=d[1],O=Object(a.useState)(""),v=Object(f.a)(O,2),C=v[0],y=v[1],S=Object(a.useContext)(E),k=S.signup,T=S.errorsList,w=S.setErrorsList,A=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement(g.a,{item:!0},r.a.createElement("h2",null," SignUp for Classify"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,email:p,password:n,password_confirmation:C})}).then(function(e){return e.json()}).then(function(e){if(e.errors){u(""),x(""),l(""),y("");var t=e.errors.map(function(e){return r.a.createElement("li",null,e)});w(t)}else k(e),A("/home")})}},r.a.createElement(j.a,{sx:{marginBottom:"2rem"},size:"small",label:"Username",name:"username",type:"text",autoComplete:"on",id:"username",value:m,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(j.a,{sx:{marginBottom:"2rem"},size:"small",label:"Email",name:"email",type:"email",autoComplete:"on",id:"email",value:p,onChange:function(e){return x(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement(j.a,{sx:{marginBottom:"2rem"},size:"small",label:"Password",name:"password",type:"password",autoComplete:"on",id:"password",value:n,onChange:function(e){return l(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(j.a,{sx:{marginBottom:"2rem"},size:"small",label:"Password Confirmation",name:"Password Confirmation",type:"password",autoComplete:"on",id:"passwordConfirmation",value:C,onChange:function(e){return y(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"contained",type:"submit"},"Add Adminstrator"),r.a.createElement(h.a,{variant:"contained",onClick:function(){return A("/")}},"Back"))),r.a.createElement("ul",null,T)))},C=n(25),y=n(200),S=n(199),k=n(202),T=n(203),w=n(136),A=n(91),L=n(201),_=n(195),z=n(184),N=n(188),P=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(null),i=Object(f.a)(c,2),m=i[0],u=i[1],s=function(){l(null)},d=Object(b.a)(),p=Object(a.useContext)(E),g=p.user,j=p.logout,x=p.loggedIn,O=Object(o.f)();return x?r.a.createElement("div",null,r.a.createElement(y.a,{position:"static"},r.a.createElement(L.a,{maxWidth:"xl"},r.a.createElement(k.a,{color:d.palette.primary.light},r.a.createElement(S.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}}},r.a.createElement(T.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"}),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(n),onClose:s,sx:{display:{xs:"block",md:"none"}}},r.a.createElement(N.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Add Teacher")),r.a.createElement(N.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Add Student")),r.a.createElement(N.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Create New Class")))),r.a.createElement(S.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},r.a.createElement(h.a,{onClick:function(){return O("/-teachers")},sx:{my:2,color:"white",display:"block"}},"Teachers"),r.a.createElement(h.a,{onClick:function(){return O("/-students")},sx:{my:2,color:"white",display:"block"}},"Students"),r.a.createElement(h.a,{onClick:function(){return O("/-subjects")},sx:{my:2,color:"white",display:"block"}},"Subjects")),r.a.createElement("h3",null,"Hello ",g.username),r.a.createElement(S.a,{sx:{flexGrow:0}},r.a.createElement(z.a,{title:"Open settings"},r.a.createElement(T.a,{onClick:function(e){u(e.currentTarget)},sx:{p:0}},r.a.createElement(_.a,{alt:"Remy Sharp",src:"client/src/UI/images-avatars/ospan-ali-6xv4A1VA1rU-unsplash.jpg"}))),r.a.createElement(A.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(m),onClose:function(){u(null)}},r.a.createElement(N.a,{onClick:function(e){fetch("/logout",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(){j(),O("/")})}},r.a.createElement(w.a,{textAlign:"center"},"Logout")))))))):r.a.createElement("div",null,r.a.createElement("h1",null,"Please Sign In"),r.a.createElement("h2",null,"Navbar Component"),r.a.createElement(C.b,{to:"/login"},r.a.createElement("button",null,"Login")),r.a.createElement(C.b,{to:"/signup"},r.a.createElement("button",null,"Signup")),r.a.createElement("hr",null))},B=function(){Object(b.a)();var e=Object(a.useContext)(E).user;return e?r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("h3",null,e.username,"'s  Homepage")):r.a.createElement("h3",null,"Loading...")},D=n(15);var W=function(){Object(b.a)();var e=Object(a.useState)({name:""}),t=Object(f.a)(e,2),n=t[0],l=t[1],c=Object(a.useContext)(E),i=c.students,m=c.setStudents,u=(Object(o.f)(),i.map(function(e){return r.a.createElement(g.a,{item:!0,key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)}));return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(S.a,{sx:{flexGrow:1}},r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){e.ok?e.json().then(function(e){var t=[].concat(Object(D.a)(i),[e]);m(t),l({name:""})}):e.json().then(function(e){alert(e.error),l({name:""})})})}},r.a.createElement("h2",{style:{textAlign:"center"}},"Add Student"),r.a.createElement(j.a,{size:"small",name:"name",type:"text",autoComplete:"on",id:"name",value:n.name,onChange:function(e){l(Object(d.a)({},n,Object(s.a)({},e.target.name,e.target.value)))}}),r.a.createElement(h.a,{sx:{marginLeft:"2rem"},variant:"contained",type:"submit"},"Add Student")))),r.a.createElement(g.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(g.a,null,r.a.createElement("h2",{style:{marginTop:"4rem"}}," Current Students"),u)))},J=n(198),G=n(5),I=n(191),R=n(190),U=n(187),F=n(204),H=n(207),M=n(205),V=n(206),q=n(183);function K(e){var t=e.id,n=(Object(b.a)(),Object(a.useContext)(E)),l=n.subjects,c=n.setSubjects,o=r.a.useState(!1),i=Object(f.a)(o,2),m=i[0],u=i[1],p=Object(a.useState)({name:"",room_number:"",time:""}),g=Object(f.a)(p,2),x=g[0],O=g[1],v=function(){u(!1)},C=function(e){O(Object(d.a)({},x,Object(s.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"contained",onClick:function(){u(!0)}},"Edit Class Details"),r.a.createElement(F.a,{open:m,onClose:v},r.a.createElement("form",{onSubmit:function(e){return function(e,t){e.preventDefault(),fetch("api/subjects/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,room_number:x.room_number,time:x.time})}).then(function(e){return e.json()}).then(function(e){var t=l.map(function(t){return t.id===Number(e.id)?e:t});c(t)}),v()}(e,t)}},r.a.createElement(q.a,null,"Edit Class"),r.a.createElement(M.a,null,r.a.createElement(V.a,null,'To edit this class, make the necessary changes, then click "Save Changes."'),r.a.createElement(j.a,{value:x.name,name:"name",onChange:C,margin:"dense",id:"name",label:"Class Name",type:"text",fullWidth:!0,variant:"standard"}),r.a.createElement(j.a,{value:x.room_number,name:"room_number",onChange:C,margin:"dense",id:"room_number",label:"Room Number",type:"text",fullWidth:!0,variant:"standard"}),r.a.createElement(j.a,{value:x.time,name:"time",onChange:C,margin:"dense",id:"time",label:"Time",type:"text",fullWidth:!0,variant:"standard"})),r.a.createElement(H.a,null,r.a.createElement(h.a,{onClick:v},"Cancel"),r.a.createElement(h.a,{type:"submit",id:t},"Save Changes"),r.a.createElement(h.a,{onClick:function(){var e;e=t,fetch("api/subjects/".concat(t),{method:"DELETE"}).then(function(t){t.ok?c(l.filter(function(t){return t.id!==e?t:null})):t.json().then(function(e){alert(e.error)})}),v()}},"Delete Class")))))}var Q=function(){Object(b.a)();var e=Object(a.useContext)(E),t=e.teachers,n=e.subjects,l=e.setSubjects,c=e.errorsList,i=(e.setErrorsList,Object(a.useState)({name:"",room_number:"",time:"",teacher_id:""})),m=Object(f.a)(i,2),u=m[0],p=m[1],x=Object(o.f)(),O=(Object(G.a)(J.a)(function(e){var t=e.theme;return Object(d.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2,{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}),function(e){p(Object(d.a)({},u,Object(s.a)({},e.target.name,e.target.value)))}),v=t.map(function(e){return r.a.createElement(N.a,{key:e.id,type:"integer",name:"t.id",value:e.id},e.name)}),C=n.map(function(e){return r.a.createElement(g.a,{item:!0,key:e.id,sx:{width:"40%",minWidth:"200px",maxWidth:"400px",padding:"20px",margin:"20px",textAlign:"center"}},r.a.createElement(J.a,{elevation:24,sx:{paddingTop:"1rem"}},r.a.createElement("h3",null,"Subject: ",e.name),r.a.createElement("h3",null,"Teacher: ",e.teacher.name),r.a.createElement("h3",null,"Room: ",e.room_number),r.a.createElement("h3",null,"Time: ",e.time),r.a.createElement(K,{key:e.id,id:e.id}),r.a.createElement(h.a,{sx:{mt:2,mb:2},variant:"contained",onClick:function(){return x("/-subjects/".concat(e.id))}},"Add Students to ",e.name)))});return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(S.a,{sx:{flexGrow:1}},r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/subjects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(function(e){e.ok?e.json().then(function(e){var t=[].concat(Object(D.a)(n),[e]);l(t),p({name:"",room_number:"",time:"",teacher_id:""})}):e.json().then(function(e){alert(e.error)})})}},r.a.createElement("h2",{style:{marginTop:"3rem",marginLeft:"2rem"}},"Create New Class"),r.a.createElement(g.a,{xs:!0},r.a.createElement(j.a,{label:"Name:",size:"small",id:"outlined-basic",variant:"outlined",name:"name",type:"text",autoComplete:"on",value:u.name,onChange:O})),r.a.createElement(g.a,{xs:!0},r.a.createElement(j.a,{size:"small",label:"Room Number:",name:"room_number",type:"text",autoComplete:"on",id:"room_number",value:u.room_number,onChange:O})),r.a.createElement(g.a,{xs:!0},r.a.createElement(j.a,{label:"Time",name:"time",size:"small",type:"text",autoComplete:"on",id:"time",value:u.time,onChange:O})),r.a.createElement(S.a,{sx:{maxWidth:"100%"}},r.a.createElement(R.a,{fullWidth:!0,sx:{mb:"1em"}},r.a.createElement(I.a,null," Assign to Professor"),r.a.createElement(U.a,{value:u.teacher_id,name:"teacher_id",onChange:O},v))),r.a.createElement(h.a,{sx:{mb:"5em",marginLeft:"4em",padding:"7px"},variant:"contained",type:"submit"},"Add Subject"," "),r.a.createElement("ul",null,c)))),r.a.createElement(S.a,{sx:{textAlign:"center"}},r.a.createElement("h2",null,"Existing Classes")),r.a.createElement(g.a,{container:!0,justifyContent:"center"},C))};var X=function(){Object(b.a)();var e=Object(a.useContext)(E),t=e.students,n=e.subjects,l=Object(o.f)(),c=Object(o.g)().id,i=Object(a.useState)([]),m=Object(f.a)(i,2),u=m[0],s=m[1],d=Object(a.useState)([]),p=Object(f.a)(d,2),j=p[0],x=p[1],O=Object(a.useState)([]),v=Object(f.a)(O,2),C=v[0],y=v[1],k=Object(a.useState)([]),T=Object(f.a)(k,2),w=T[0],A=T[1];Object(a.useEffect)(function(){s(new Array(t.length).fill(!1)),x(t.map(function(e){return e.id})),y(n.find(function(e){return e.id===parseInt(c)}))},[t,n]),Object(a.useEffect)(function(){C&&_(C.students)},[C]);var L=t.map(function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement("input",{type:"checkbox",id:"".concat(t),name:e.name,value:u[t],onChange:function(){return function(e){var t=u.map(function(t,n){return n===e?!t:t});s(t)}(t)}}),r.a.createElement("label",{htmlFor:"custom-checkbox-".concat(t)},e.name))});function _(e){A(e)}if(!C||!w)return r.a.createElement("h2",null,"Loading...");var z=w.map(function(e){return r.a.createElement(g.a,{key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)});return n?r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(S.a,{sx:{flexGrow:1}},r.a.createElement("h2",{style:{textAlign:"center"}},"".concat(C.name," Detail")),r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2}),r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2,marginBottom:"4rem"},r.a.createElement(g.a,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=u.map(function(e,t){return!0===e?j[t]:null}).filter(function(e){return null!==e});fetch("/student_subjects/".concat(c),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({indexArray:n})}).then(function(e){return e.json()}).then(function(e){return function(e){var n=e.map(function(e){return e.student_id}),a=w.map(function(e){return e.id}),r=n.concat(a),l=Object(D.a)(new Set(r));_(t.filter(function(e){return l.includes(e.id)?e:null}))}(e)})}},L,r.a.createElement(h.a,{sx:{marginLeft:"2rem",marginTop:"2rem"},variant:"contained",type:"submit"},"Add Students"),r.a.createElement(h.a,{variant:"contained",onClick:function(){return l("/-subjects")},sx:{marginLeft:"2rem",marginTop:"2rem"}},"Back to All Subjects"))))),r.a.createElement(g.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(g.a,null,r.a.createElement("h3",null,"Currently Enrolled Students:"),z))):r.a.createElement("h2",null,"Loading...")};var Y=function(){Object(b.a)();var e=Object(a.useContext)(E),t=e.user,n=e.teachers,l=e.setTeachers,c=Object(a.useState)({name:""}),o=Object(f.a)(c,2),i=o[0],m=o[1],u=n.map(function(e){return r.a.createElement(g.a,{item:!0,key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)});return t?r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(S.a,{sx:{flexGrow:1}},r.a.createElement(g.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/teachers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){e.ok?e.json().then(function(e){var t=[].concat(Object(D.a)(n),[e]);l(t),m({name:""})}):e.json().then(function(e){alert(e.error),m({name:""})})})}},r.a.createElement("h2",{style:{marginLeft:"8rem"}},"Add Teacher"),r.a.createElement(j.a,{label:"Name",size:"small",name:"name",type:"text",autoComplete:"on",id:"name",value:i.name,onChange:function(e){m(Object(d.a)({},i,Object(s.a)({},e.target.name,e.target.value)))}}),r.a.createElement(h.a,{sx:{marginLeft:"2rem"},variant:"contained",type:"submit"},"Add Teacher")))),r.a.createElement(g.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(g.a,null,r.a.createElement("h2",{style:{marginTop:"4rem"}},"Current Faculty"),u))):r.a.createElement("div",null,r.a.createElement("h2",null,"Loading Teachers..."))};var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{theme:u},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(O,null)}),r.a.createElement(o.a,{path:"/-login",element:r.a.createElement(x,null)}),r.a.createElement(o.a,{path:"/-signup",element:r.a.createElement(v,null)}),r.a.createElement(o.a,{path:"/home",element:r.a.createElement(B,null)}),r.a.createElement(o.a,{path:"/-students",element:r.a.createElement(W,null)}),r.a.createElement(o.a,{path:"/-subjects",element:r.a.createElement(Q,null)}),r.a.createElement(o.a,{path:"/-subjects/:id",element:r.a.createElement(X,null)}),r.a.createElement(o.a,{path:"/-teachers",element:r.a.createElement(Y,null)}))))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null,r.a.createElement(C.a,null,r.a.createElement(Z,null)))))}},[[116,1,2]]]);
//# sourceMappingURL=main.b1aa9929.chunk.js.map