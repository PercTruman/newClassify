(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(129)},124:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(85),l=n.n(c),o=n(14),i=n(196),u=(n(124),n(90)),m=Object(u.a)({palette:{common:{black:"#000",white:"#fff"},primary:{light:"fff",main:"#0C546A",dark:"#r2B393E",contrastText:"#F0E29B"},background:{paper:"#a5adb5",default:"#b79fad"}},typography:{fontFamily:"'Chilanka', sans-serif",fontSize:16,fontWeight:"bold"}}),s=n(3),d=n(27),f=n(6),E=Object(a.createContext)();function b(e){var t=e.children,n=Object(a.useState)({}),c=Object(f.a)(n,2),l=c[0],o=c[1],i=Object(a.useState)(!1),u=Object(f.a)(i,2),m=u[0],s=u[1],d=Object(a.useState)([]),b=Object(f.a)(d,2),p=b[0],h=b[1];Object(a.useEffect)(function(){fetch("/me").then(function(e){return e.json()}).then(function(e){o(e),e.error?s(!1):s(!0)})},[]);return r.a.createElement(E.Provider,{value:{user:l,login:function(e){o(e),s(!0)},logout:function(){o({}),s(!1)},signup:function(e){o(e),s(!0)},loggedIn:m,errorsList:p,setErrorsList:h}},t)}var p=n(194),h=n(193),g=n(189),j=function(){var e=Object(a.useContext)(E),t=e.login,n=e.errorsList,c=Object(a.useState)({username:"",password:""}),l=Object(f.a)(c,2),i=l[0],u=l[1],m=function(e){u(Object(d.a)({},i,Object(s.a)({},e.target.name,e.target.value)))},b=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement(h.a,{item:!0},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){e.ok?e.json().then(function(e){t(e),b("/home")}):e.json().then(function(e){alert(e.error)})})}},r.a.createElement("h2",{style:{marginLeft:"4rem"}},"Login"),r.a.createElement(g.a,{sx:{marginBottom:"2rem"},size:"small",label:"Username",name:"username",type:"text",autoComplete:"on",id:"username",value:i.username,onChange:m})," ",r.a.createElement("br",null),r.a.createElement(g.a,{label:"Password",size:"small",name:"password",type:"password",autoComplete:"on",id:"password",value:i.password,onChange:m}),r.a.createElement("br",null),r.a.createElement(p.a,{type:"submit",sx:{marginLeft:"4rem",marginTop:"2rem"},variant:"contained"},"Log In"),r.a.createElement(p.a,{sx:{marginLeft:"4rem",marginTop:"2rem"},variant:"contained",onClick:function(){return b("/-signup")}},"Signup"))),r.a.createElement("ul",null,n)))};var x=function(){var e=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(h.a,{container:!0,sx:{justifyContent:"center"},spacing:2},r.a.createElement(h.a,{item:!0,sx:{textAlign:"center"}},r.a.createElement("h2",{style:{width:"100%",textAlign:"center"}},"Welcome to Class-ify, your hub for campus logistics! Please login or signup."))),r.a.createElement("br",null),r.a.createElement(h.a,{container:!0,sx:{justifyContent:"center"},spacing:2},r.a.createElement(h.a,{item:!0},r.a.createElement(p.a,{variant:"contained",sx:{m:"1rem"},onClick:function(){return e("/-login")}},"Login"),r.a.createElement(p.a,{variant:"contained",onClick:function(){return e("/-signup")}},"Signup"))))},O=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),i=Object(f.a)(l,2),u=i[0],m=i[1],s=Object(a.useState)(""),d=Object(f.a)(s,2),b=d[0],j=d[1],x=Object(a.useState)(""),O=Object(f.a)(x,2),v=O[0],C=O[1],y=Object(a.useContext)(E),S=y.signup,k=y.errorsList,w=y.setErrorsList,T=Object(o.f)();return r.a.createElement("div",null,r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement(h.a,{item:!0},r.a.createElement("h2",null," SignUp for Classify"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,email:b,password:n,password_confirmation:v})}).then(function(e){return e.json()}).then(function(e){if(e.errors){m(""),j(""),c(""),C("");var t=e.errors.map(function(e){return r.a.createElement("li",null,e)});w(t)}else S(e),T("/home")})}},r.a.createElement(g.a,{sx:{marginBottom:"2rem"},size:"small",label:"Username",name:"username",type:"text",autoComplete:"on",id:"username",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{sx:{marginBottom:"2rem"},size:"small",label:"Email",name:"email",type:"email",autoComplete:"on",id:"email",value:b,onChange:function(e){return j(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement(g.a,{sx:{marginBottom:"2rem"},size:"small",label:"Password",name:"password",type:"password",autoComplete:"on",id:"password",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{sx:{marginBottom:"2rem"},size:"small",label:"Password Confirmation",name:"Password Confirmation",type:"password",autoComplete:"on",id:"passwordConfirmation",value:v,onChange:function(e){return C(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"contained",type:"submit"},"Add Adminstrator"),r.a.createElement(p.a,{variant:"contained",onClick:function(){return T("/")}},"Back"))),r.a.createElement("ul",null,k)))},v=n(26),C=n(200),y=n(199),S=n(202),k=n(203),w=n(136),T=n(91),A=n(201),_=n(195),L=n(184),z=n(188),N=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(null),i=Object(f.a)(l,2),u=i[0],m=i[1],s=function(){c(null)},d=Object(v.a)(),b=Object(a.useContext)(E),h=b.user,g=b.logout,j=b.loggedIn,x=Object(o.f)();return j?r.a.createElement("div",null,r.a.createElement(C.a,{position:"static"},r.a.createElement(A.a,{maxWidth:"xl"},r.a.createElement(S.a,{color:d.palette.primary.light},r.a.createElement(y.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}}},r.a.createElement(k.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"}),r.a.createElement(T.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(n),onClose:s,sx:{display:{xs:"block",md:"none"}}},r.a.createElement(z.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Add Teacher")),r.a.createElement(z.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Add Student")),r.a.createElement(z.a,{onClick:s},r.a.createElement(w.a,{textAlign:"center"},"Create New Class")))),r.a.createElement(y.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}},r.a.createElement(p.a,{onClick:function(){return x("/-teachers")},sx:{my:2,color:"white",display:"block"}},"Teachers"),r.a.createElement(p.a,{onClick:function(){return x("/-students")},sx:{my:2,color:"white",display:"block"}},"Students"),r.a.createElement(p.a,{onClick:function(){return x("/-subjects")},sx:{my:2,color:"white",display:"block"}},"Subjects")),r.a.createElement("h3",null,"Hello ",h.username),r.a.createElement(y.a,{sx:{flexGrow:0}},r.a.createElement(L.a,{title:"Open settings"},r.a.createElement(k.a,{onClick:function(e){m(e.currentTarget)},sx:{p:0}},r.a.createElement(_.a,{alt:"Remy Sharp"}))),r.a.createElement(T.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(u),onClose:function(){m(null)}},r.a.createElement(z.a,{onClick:function(){fetch("/logout",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(){g(),x("/")})}},r.a.createElement(w.a,{textAlign:"center"},"Logout")))))))):r.a.createElement("div",null,r.a.createElement("h1",null,"Please Sign In"),r.a.createElement(p.a,{variant:"contained",onClick:function(){return x("/-login")}},"Login"),r.a.createElement(p.a,{variant:"contained",onClick:function(){return x("/-signup")}},"Signup"))},P=function(){var e=Object(a.useContext)(E).user;return e?r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("h3",null,e.username,"'s  Homepage")):r.a.createElement("h3",null,"Loading...")};var B=function(){var e=Object(a.useContext)(E).user,t=Object(a.useState)([e.students]),n=Object(f.a)(t,2),c=(n[0],n[1]),l=Object(a.useState)({name:"",user_id:""}),o=Object(f.a)(l,2),i=o[0],u=o[1],m=e.students&&e.students.map(function(e){return r.a.createElement(h.a,{key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)});return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(y.a,{sx:{flexGrow:1}},r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){e.ok?e.json().then(function(e){c(e),u({name:"",user_id:""})}):e.json().then(function(e){alert(e.error),u({name:"",user_id:""})})})}},r.a.createElement("h2",{style:{textAlign:"center"}},"Add Student"),r.a.createElement(g.a,{size:"small",name:"name",type:"text",autoComplete:"on",id:"name",value:i.name,onChange:function(t){var n;u(Object(d.a)({},i,(n={},Object(s.a)(n,t.target.name,t.target.value),Object(s.a)(n,"user_id",e.id),n)))}}),r.a.createElement(p.a,{sx:{marginLeft:"2rem"},variant:"contained",type:"submit"},"Add Student")))),r.a.createElement(h.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(h.a,null,r.a.createElement("h2",{style:{marginTop:"4rem"}}," Current Students"),m)))},D=n(198),W=n(16),J=n(190),G=n(187),I=n(191);var F=function(){var e=Object(a.useContext)(E),t=e.user,n=e.errorsList,c=Object(a.useState)({name:"",room_number:"",time:"",teacher_id:"",user_id:""}),l=Object(f.a)(c,2),o=l[0],i=l[1],u=Object(a.useState)([]),m=Object(f.a)(u,2),b=m[0],j=m[1],x=Object(a.useState)([]),O=Object(f.a)(x,2),v=O[0],C=(O[1],function(e){var n;i(Object(d.a)({},o,(n={},Object(s.a)(n,e.target.name,e.target.value),Object(s.a)(n,"user_id",t.id),n)))}),S=v.map(function(e){return r.a.createElement(z.a,{key:e.id,type:"integer",name:"t.id",value:e.id},e.name)});return r.a.createElement("div",null,r.a.createElement(y.a,{sx:{flexGrow:1}},r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/subjects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){e.ok?e.json().then(function(e){var t=[].concat(Object(W.a)(b),[e]);j(t),i({name:"",room_number:"",time:"",teacher_id:"",user_id:""})}):e.json().then(function(e){alert(e.error)})})}},r.a.createElement("h2",{style:{marginTop:"3rem",marginLeft:"2rem"}},"Create New Class"),r.a.createElement(h.a,{xs:!0},r.a.createElement(g.a,{label:"Name:",size:"small",id:"outlined-basic",variant:"outlined",name:"name",type:"text",autoComplete:"on",value:o.name,onChange:C})),r.a.createElement(h.a,{xs:!0},r.a.createElement(g.a,{size:"small",label:"Room Number:",name:"room_number",type:"text",autoComplete:"on",id:"room_number",value:o.room_number,onChange:C})),r.a.createElement(h.a,{xs:!0},r.a.createElement(g.a,{label:"Time",name:"time",size:"small",type:"text",autoComplete:"on",id:"time",value:o.time,onChange:C})),r.a.createElement(y.a,{sx:{maxWidth:"100%"}},r.a.createElement(J.a,{fullWidth:!0,sx:{mb:"1em"}},r.a.createElement(I.a,null," Assign to Professor"),r.a.createElement(G.a,{value:o.teacher_id,name:"teacher_id",onChange:C},S))),r.a.createElement(p.a,{sx:{mb:"5em",marginLeft:"4em",padding:"7px"},variant:"contained",type:"submit"},"Add Class"," "),r.a.createElement("ul",null,n)))))},R=n(204),H=n(207),M=n(205),U=n(206),q=n(183);function K(e){var t=e.id,n=e.subjects,c=e.setSubjects,l=r.a.useState(!1),o=Object(f.a)(l,2),i=o[0],u=o[1],m=Object(a.useState)({name:"",room_number:"",time:""}),E=Object(f.a)(m,2),b=E[0],h=E[1],j=function(){u(!1)},x=function(e){h(Object(d.a)({},b,Object(s.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(p.a,{sx:{mb:"1rem"},variant:"contained",onClick:function(){u(!0)}},"Details"),r.a.createElement(R.a,{open:i,onClose:j},r.a.createElement("form",{onSubmit:function(e){return function(e,t){e.preventDefault(),fetch("/subjects/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name,room_number:b.room_number,time:b.time})}).then(function(e){return e.json()}).then(function(e){var t=n.map(function(t){return t.id===Number(e.id)?e:t});c(t)}),j()}(e,t)}},r.a.createElement(q.a,null,"Edit Class"),r.a.createElement(M.a,null,r.a.createElement(U.a,null,'To edit this class, make the necessary changes, then click "Save Changes."'),r.a.createElement(g.a,{value:b.name,name:"name",onChange:x,margin:"dense",id:"name",label:"Class Name",type:"text",fullWidth:!0,variant:"standard"}),r.a.createElement(g.a,{value:b.room_number,name:"room_number",onChange:x,margin:"dense",id:"room_number",label:"Room Number",type:"text",fullWidth:!0,variant:"standard"}),r.a.createElement(g.a,{value:b.time,name:"time",onChange:x,margin:"dense",id:"time",label:"Time",type:"text",fullWidth:!0,variant:"standard"})),r.a.createElement(H.a,null,r.a.createElement(p.a,{onClick:j},"Cancel"),r.a.createElement(p.a,{type:"submit",id:t},"Save Changes"),r.a.createElement(p.a,{onClick:function(){var e;e=t,fetch("/subjects/".concat(t),{method:"DELETE"}).then(function(t){t.ok?c(n.filter(function(t){return t.id!==e})):t.json().then(function(e){alert(e.error)})}),j()}},"Delete Class")))))}var Q=function(){var e=Object(a.useContext)(E),t=e.user,n=(e.errorsList,Object(a.useState)([])),c=Object(f.a)(n,2),l=(c[0],c[1]),i=Object(a.useState)([]),u=Object(f.a)(i,2),m=u[0],s=u[1],d=(Object(o.f)(),Object(a.useState)(!1)),b=Object(f.a)(d,2),g=b[0],j=b[1];Object(a.useEffect)(function(){fetch("/teachers").then(function(e){return e.json()}).then(function(e){return l(e)}),fetch("/subjects").then(function(e){return e.json()}).then(function(e){return s(e)})},[]),console.log(t);var x=t&&t.subjects&&m.map(function(e){return r.a.createElement(h.a,{item:!0,key:e.id,sx:{width:"40%",minWidth:"200px",maxWidth:"400px",padding:"20px",margin:"20px",textAlign:"center"}},r.a.createElement(D.a,{elevation:24,sx:{paddingTop:"1rem"}},r.a.createElement("h3",null,e.name),r.a.createElement(K,{key:e.id,id:e.id,subjects:m,setSubjects:s})))});return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(y.a,{sx:{textAlign:"center"}},r.a.createElement(p.a,{sx:{mt:6,mb:2},variant:"contained",onClick:function(){return j(!g)}},"Create New Class")),g?r.a.createElement(F,null):null,r.a.createElement(y.a,{sx:{textAlign:"center"}},r.a.createElement("h2",null,"Classes")),r.a.createElement(h.a,{container:!0,justifyContent:"center"},x))};var V=function(){var e=Object(a.useContext)(E).user,t=Object(o.f)(),n=Object(o.g)().id,c=Object(a.useState)([]),l=Object(f.a)(c,2),i=l[0],u=(l[1],Object(a.useState)([])),m=Object(f.a)(u,2),s=m[0],d=m[1],b=Object(a.useState)([]),g=Object(f.a)(b,2),j=g[0],x=g[1],O=Object(a.useState)([]),v=Object(f.a)(O,2),C=v[0],S=v[1],k=Object(a.useState)([]),w=Object(f.a)(k,2),T=w[0],A=w[1],_=Object(a.useState)([]),L=Object(f.a)(_,2),z=L[0],P=L[1];Object(a.useEffect)(function(){S(e.students.map(function(e){return e.id})),fetch("/students").then(function(e){return e.json()}).then(function(e){return d(e)}),D(e.students),x(new Array(e.students.length).fill(!1))},[]),Object(a.useEffect)(function(){fetch("/subjects/".concat(n)).then(function(e){return e.json()}).then(function(e){return A(e)})},[]);var B=s.map(function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement("input",{type:"checkbox",id:"".concat(t),name:e.name,value:j[t],onChange:function(){return function(e){var t=j.map(function(t,n){return n===e?!t:t});x(t)}(t)}}),r.a.createElement("label",{htmlFor:"custom-checkbox-".concat(t)},e.name))});function D(e){P(e)}var J=z&&z.map(function(e){return r.a.createElement(h.a,{key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)});return i?r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(y.a,{sx:{flexGrow:1}},r.a.createElement("h2",{style:{textAlign:"center"}},"".concat(T.name," Detail")),r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2}),r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2,marginBottom:"4rem"},r.a.createElement(h.a,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=j.map(function(e,t){return!0===e?C[t]:null}).filter(function(e){return null!==e});fetch("/student_subjects/".concat(n),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({indexArray:a,user_id:e.id})}).then(function(e){return e.json()}).then(function(e){return function(e){var t=e.map(function(e){return e.student_id}),n=z.map(function(e){return e.id}),a=t.concat(n),r=Object(W.a)(new Set(a));D(s.filter(function(e){return r.includes(e.id)?e:null}))}(e)})}},B,r.a.createElement(p.a,{sx:{marginLeft:"2rem",marginTop:"2rem"},variant:"contained",type:"submit"},"Add Students"),r.a.createElement(p.a,{variant:"contained",onClick:function(){return t("/-subjects")},sx:{marginLeft:"2rem",marginTop:"2rem"}},"Back to All Subjects"))))),r.a.createElement(h.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(h.a,null,r.a.createElement("h3",null,"Currently Enrolled Students:"),J))):r.a.createElement("h2",null,"Loading...")};var X=function(){var e=Object(a.useContext)(E).user,t=Object(a.useState)({name:""}),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)([]),i=Object(f.a)(o,2),u=i[0],m=i[1];Object(a.useEffect)(function(){fetch("/teachers").then(function(e){return e.json()}).then(function(e){return m(e)})},[]);var b=u.map(function(e){return r.a.createElement(h.a,{item:!0,key:e.id,sx:{padding:"10px",margin:"auto",textAlign:"center"}},e.name)});return e?r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(y.a,{sx:{flexGrow:1}},r.a.createElement(h.a,{sx:{justifyContent:"center"},container:!0,spacing:2},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/teachers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(function(e){e.ok?e.json().then(function(e){m([].concat(Object(W.a)(u),[e])),l({name:"",user_id:""})}):e.json().then(function(e){alert(e.error),l({name:"",user_id:""})})})}},r.a.createElement("h2",{style:{marginLeft:"8rem"}},"Add Teacher"),r.a.createElement(g.a,{label:"Name",size:"small",name:"name",type:"text",autoComplete:"on",id:"name",value:c.name,onChange:function(t){var n;l(Object(d.a)({},c,(n={},Object(s.a)(n,t.target.name,t.target.value),Object(s.a)(n,"user_id",e.id),n)))}}),r.a.createElement(p.a,{sx:{marginLeft:"2rem"},variant:"contained",type:"submit"},"Add Teacher")))),r.a.createElement(h.a,{container:!0,sx:{justifyContent:"center"}},r.a.createElement(h.a,null,r.a.createElement("h2",{style:{marginTop:"4rem"}},"Current Faculty"),b))):r.a.createElement("div",null,r.a.createElement("h2",null,"Loading Teachers..."))};var Y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{theme:m},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(x,null)}),r.a.createElement(o.a,{path:"/-login",element:r.a.createElement(j,null)}),r.a.createElement(o.a,{path:"/-signup",element:r.a.createElement(O,null)}),r.a.createElement(o.a,{path:"/home",element:r.a.createElement(P,null)}),r.a.createElement(o.a,{path:"/-students",element:r.a.createElement(B,null)}),r.a.createElement(o.a,{path:"/-subjects",element:r.a.createElement(Q,null)}),r.a.createElement(o.a,{path:"/-subjects/:id",element:r.a.createElement(V,null)}),r.a.createElement(o.a,{path:"/-teachers",element:r.a.createElement(X,null)}))))},Z=n(31);l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null,r.a.createElement(Z.a,null,r.a.createElement(Y,null)))))}},[[116,1,2]]]);
//# sourceMappingURL=main.b56e6f13.chunk.js.map